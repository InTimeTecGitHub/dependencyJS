!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).DIC=e()}}(function(){return function(){return function r(e,t,n){function o(s,u){if(!t[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=t[s]={exports:{}};e[s][0].call(f.exports,function(t){return o(e[s][1][t]||t)},f,f.exports,r,e,t,n)}return t[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}}()({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./src/ComponentRegistry");n.ComponentRegistry=r.ComponentRegistry;var o=r.ComponentRegistry.getInstance();n.registry=o;const i=e("./src/models/Config");n.Config=i.Config},{"./src/ComponentRegistry":5,"./src/models/Config":7}],2:[function(e,t,n){},{}],3:[function(e,t,n){(function(e){function normalizeArray(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function filter(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var t="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var o=r>=0?arguments[r]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,n="/"===o.charAt(0))}return t=normalizeArray(filter(t.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+t||"."},n.normalize=function(e){var r=n.isAbsolute(e),o="/"===t(e,-1);return(e=normalizeArray(filter(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(filter(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function trim(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var r=trim(e.split("/")),o=trim(t.split("/")),i=Math.min(r.length,o.length),s=i,u=0;u<i;u++)if(r[u]!==o[u]){s=u;break}var a=[];for(u=s;u<r.length;u++)a.push("..");return(a=a.concat(o.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},n.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,s=e.length-1;s>=0;--s){var u=e.charCodeAt(s);if(47!==u)-1===r&&(o=!1,r=s+1),46===u?-1===t?t=s:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=s+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var t="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:4}],4:[function(e,t,n){var r,o,i=t.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){r=defaultSetTimout}try{o="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){o=defaultClearTimeout}}();var s,u=[],a=!1,c=-1;function cleanUpNextTick(){a&&s&&(a=!1,s.length?u=s.concat(u):c=-1,u.length&&drainQueue())}function drainQueue(){if(!a){var e=runTimeout(cleanUpNextTick);a=!0;for(var t=u.length;t;){for(s=u,u=[];++c<t;)s&&s[c].run();c=-1,t=u.length}s=null,a=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===defaultClearTimeout||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new Item(e,t)),1!==u.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=noop,i.addListener=noop,i.once=noop,i.off=noop,i.removeListener=noop,i.removeAllListeners=noop,i.emit=noop,i.prependListener=noop,i.prependOnceListener=noop,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./ConfigurationReader");class ComponentRegistry{constructor(){this.components=new Map}static getInstance(){return ComponentRegistry.instance||(ComponentRegistry.instance=new ComponentRegistry),ComponentRegistry.instance}hasComponent(e,t){let n=new Unit(e,t),r=this.components.get(n.type);return!!r&&!r.get(n.resolver)}register(e,t,n){if("object"!=typeof t)throw new Error("Service can not be registered as a class. It must be a object.");let r=new Unit(e.name,n),o=this.components.get(r.type);return o||(o=new Map),this.components.set(r.type,o),o.set(r.resolver,t),!0}resolve(e,t){try{let n,r=new Unit(e.name,t),o=this.components.get(r.type);if(void 0===o||null===o)throw new Error("Service:"+e.name+" Not registered");if(void 0===(n=o.get(r.resolver))||null===n)throw new Error("Service:"+e.name+" Not registered");return n}catch(t){throw new Error("Unit '"+e.name+"' is not registered")}}loadConfiguration(e){return r.ConfigurationReader.getInstance().loadConfiguration(e)}cleanContainer(){return this.components=new Map,!0}}n.ComponentRegistry=ComponentRegistry;class Unit{constructor(e,t="*"){this.type=e,this.resolver=t}}},{"./ConfigurationReader":6}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("path"),o=e("fs");const i=e("./ComponentRegistry"),s=e("./models/ConfigurationSection"),u=e("./models/SourceType");class ConfigurationReader{static getInstance(){return ConfigurationReader.instance||(ConfigurationReader.instance=new ConfigurationReader),ConfigurationReader.instance}loadConfiguration(e){let t=r.join(e.appDirectory,e.configFolder),n=o.readdirSync(t),i=this.readXmlFilesFromDisk(n,t);return this.registerDependencies(i,e),!0}readXmlFilesFromDisk(t,n){let r=new s.ConfigurationSection;return r.registrationSections=new Array,t.forEach(t=>{try{let i=e(n+"/"+t).container;if(i&&i.register){var o=i.register;r.registrationSections.push.apply(r.registrationSections,o)}else console.log("No configuration found in registration section : "+t)}catch(e){throw new Error("There is some issues with configuration file :"+t+", ExceptionDetail: "+e)}}),r}registerDependencies(e,t){null!=e&&e.registrationSections.forEach(e=>{try{let n=this.getImplementationDetailObject(e.base,t),r=this.getImplementationDetailObject(e.map,t);i.ComponentRegistry.getInstance().register(n,new r,e.resolver)}catch(t){throw new Error(e.map.typeName+": object cant be registered due to some issues. Exception: "+t)}})}getImplementationDetailObject(t,n){let o;return o=t.sourceType==u.SourceType.package?e(t.sourceInfo)[t.typeName]:e(r.join(n.appDirectory+t.sourceInfo))[t.typeName]}}n.ConfigurationReader=ConfigurationReader},{"./ComponentRegistry":5,"./models/ConfigurationSection":8,"./models/SourceType":9,fs:2,path:3}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.Config=class{}},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.ConfigurationSection=class{}},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.package="package",e.fs="fs"}(n.SourceType||(n.SourceType={}))},{}]},{},[1])(1)});